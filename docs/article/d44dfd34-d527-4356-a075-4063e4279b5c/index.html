<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Graph RAG on Noisy Data - Hex Index</title>
  <link rel="stylesheet" href="../../styles.css">
</head>
<body class="reading-mode">
  <header class="reading-header">
    <a href="../../index.html" class="back-link">&larr; Back to Library</a>
  </header>
  <main class="reading-content">
    
    <article class="article-page">
      <header class="article-header">
        <h1>Graph RAG on Noisy Data</h1>
        <div class="article-meta">
          <span class="author">By Various</span>
          <span class="separator">&middot;</span>
          <a href="../../publication/nobsai/index.html" class="publication">
            NO BS AI
          </a>
          <span class="separator">&middot;</span><time>Jan 22, 2025</time>
          <span class="separator">&middot;</span>
          <span class="read-time">5 min read</span>
        </div>
      </header>

      

      <div class="article-excerpt">
        <p>Graph RAG is a widely appreciated technology used in various production environments. Typically, it is applied to clean data, such as factual documents describing products, procedures, rules, and guidelines. But what happens when you need to build a Graph RAG using noisy data, where you can't always assume that every piece of information is accurate? Such a situation arises while building chatbots using previous customer support conversations. Often, companies just don't have all their data stored in clean documents. Even if documentations exist, the <strong>knowledge about real problems and solutions is kept in the heads (and conversations) of the customer support team</strong>. And these conversations tend to be really noisy.</p><p>By applying proprietary techniques we managed to make Graph RAG work on messy, real-life data which has nothing to do with examples from tutorials.</p><h4>The setting</h4><p>As usual, we'll focus on conversations between customer support and clients of a company that manufactures electronic devices. The aim of this knowledge base is to answer technical questions about usage of the devices, so we need solid technical knowledge base. The Graph RAG implementation will utilize the original library from Microsoft: <a href="https://microsoft.github.io/graphrag/">https://microsoft.github.io/graphrag/</a>.</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!OsX1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!OsX1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png 424w, https://substackcdn.com/image/fetch/$s_!OsX1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png 848w, https://substackcdn.com/image/fetch/$s_!OsX1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png 1272w, https://substackcdn.com/image/fetch/$s_!OsX1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/$s_!OsX1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png" width="1195" height="737" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bf071fab-119e-401c-9a17-919623954d46_1195x737.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:737,&quot;width&quot;:1195,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:117406,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!OsX1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png 424w, https://substackcdn.com/image/fetch/$s_!OsX1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png 848w, https://substackcdn.com/image/fetch/$s_!OsX1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png 1272w, https://substackcdn.com/image/fetch/$s_!OsX1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbf071fab-119e-401c-9a17-919623954d46_1195x737.png 1456w" sizes="100vw" fetchpriority="high"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"></div></div></div></a></figure></div><h4><strong>Problems: Where vanilla Graph RAGs fail</strong></h4><ul><li><p>Graph RAG assumes that every data point can be a valid fact. So, we get many, many nodes with client and order details, such as:</p><ul><li><p>Client IDs</p></li><li><p>Client personal data (which somehow escaped anonymization)</p></li><li><p>Order IDs</p></li></ul></li></ul><p>Sometimes these things are good to know, but we want our graph to contain knowledge about the devices and procedures so that we can diagnose user problems! We don't care about old order IDs from a few months ago, and storing personal data is dangerous.</p><ul><li><p>Many <strong>situational or temporary facts</strong> are regarded as vital facts:</p><ul><li><p>A client reports possessing a black device of a certain brand. Thus, a <code>BLACK_DEVICE_MODEL</code> is created as a node - where in fact, the device color is just some client variation and not important for diagnosing problems.</p></li><li><p>Many detected relationships refer to temporary situations, which can be <strong>unimportant or even risky to store in a graph</strong> - such as discounts. We witnessed many edges like this:</p><p> <code>&lt;source_node&gt;DEVICE,</code></p><p><code>&lt;target_node&gt;DISCOUNT_15%, </code></p><p><code>&lt;relationship&gt;"A discount of 15% is offered on DEVICE"</code></p><p>Such relationships can be created e.g. from conversations with dissatisfied clients, where the discount is a way to prevent churning. Storing such information can be very dangerous, as it may lead to repeating some special actions </p></li></ul></li></ul>...</source>
      </div>

      <div class="read-full-article">
        <a href="https://nobsai.substack.com/p/graph-rag-on-noisy-data" class="read-button" target="_blank" rel="noopener">
          Read full article on NO BS AI &rarr;
        </a>
        <p class="copyright-note">
          This excerpt is provided for preview purposes.
          Full article content is available on the original publication.
        </p>
      </div>
    </article>
  
  </main>
</body>
</html>